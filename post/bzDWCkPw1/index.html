<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

<title>关于 Gridea 接入 Valine 评论系统 | 白日梦制造商</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

<link
    rel="stylesheet"
    href="https://bemzhao.github.io/media/styles/all.css"
    integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
    crossorigin="anonymous"
/>
<link rel="shortcut icon" href="https://bemzhao.github.io/favicon.ico?v=1629868571085" />
<link rel="stylesheet" href="https://bemzhao.github.io/styles/main.css" />
<link rel="stylesheet" href="https://bemzhao.github.io/media/styles/monokai-sublime.min.css" />



<link rel="stylesheet" href="https://bemzhao.github.io/media/styles/aos.css" />
<script src="https://bemzhao.github.io/media/scripts/vue.js"></script>



<script src='https://bemzhao.github.io/media/scripts/Valine.min.js'></script>

        <meta name="description" content="Valine：https://valine.js.org/
Leancloud：https://console.leancloud.cn/apps
作为一款无后端评论系统，接入的教程 Valine 官网上很简单，其他博客都写烂了，记录一下遇..." />
        <meta name="keywords" content="Valine,Gridea" />
    </head>
    <body>
        <div id="app" class="main">
            <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://bemzhao.github.io">
        <img src="https://bemzhao.github.io/images/avatar.png?v=1629868571085" class="site-logo">
        <h1 class="site-title">白日梦制造商</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/bemzhao" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
          <a class="social-link" href="https://twitter.com/bemzhao" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        
      
        
          <a class="social-link" href="https://weibo.com/5270219385" target="_blank">
            <i class="fab fa-weibo"></i>
          </a>
        
      
        
      
        
      
    </div>
    <div class="site-description">
      面包会有的，牛奶会有的，一切都会有的
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/bemzhao" target="_blank">bemzhao</a> | <a class="rss" href="https://bemzhao.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


            <div class="main-container">
                <div class="content-container" data-aos="fade-up">
                    <div class="post-detail">
                        <h2 class="post-title">关于 Gridea 接入 Valine 评论系统</h2>
                        <div class="post-date">2021-03-12</div>
                        
                        <div class="post-content" v-pre><p>Valine：<a href="https://valine.js.org/" target="_blank">https://valine.js.org/</a><br>
Leancloud：<a href="https://console.leancloud.cn/apps" target="_blank">https://console.leancloud.cn/apps</a></p>
<p>作为一款无后端评论系统，接入的教程 Valine 官网上很简单，其他博客都写烂了，记录一下遇到的问题</p>
<!-- more -->
<br />
<br />
<br />
<p>我使用的是 simple 的主题模板，里面引入了 Vue 框架，Valine 里关于评论的元素是通过给予一个容器</p>
<pre><code class="language-html">&lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
</code></pre>
<p>然后再通过初始化对象动态生成输入框等其他元素的</p>
<pre><code class="language-js">new Valine({
    el: '#vcomments',
    appId: 'Your appId',
    appKey: 'Your appKey'
})

</code></pre>
<p>如果按照官网的示例初始化是没有效果的，表情和提交评论都无效了</p>
<br />
<br />
<p>所以需要在 Vue 初始化之后，Dom 更新完成了再进行 Valine 的初始化</p>
<pre><code class="language-js">var app = new Vue({
    el: '#app',
    data: {
        menuVisible: false,
    },
});

app.$nextTick(() =&gt; {
    new Valine({
        el: '#vcomments',
        appId: 'Your appId',
        appKey: 'Your appKey'
    })
});
</code></pre>
</div>
                        
                        <div class="tag-container">
                            
                            <a href="https://bemzhao.github.io/tag/6vAwpOeEH/" class="tag"> Valine </a>
                            
                            <a href="https://bemzhao.github.io/tag/vb5C5_hgI/" class="tag"> Gridea </a>
                            
                        </div>
                         
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://bemzhao.github.io/post/YQR7p-RtO/">
                                <h3 class="post-title">美好的一天</h3>
                            </a>
                        </div>
                         

                        <div id="vcomments" style="padding: 20px 0 0"></div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://bemzhao.github.io/media/scripts/aos.js"></script>
<script type="application/javascript">
    AOS.init();

    var app = new Vue({
        el: '#app',
        data: {
            menuVisible: false,
        },
    });

    app.$nextTick(() => {
        app.valine = new Valine({
            el: '#vcomments',
            appId: 'Ml09LvxW27MyF9u8NeA5TcoC-gzGzoHsz',
            appKey: 'SzTlDXgSGpUrrNC37WjCW1pV',
            visitor: true,
            placeholder: '评论留言',
        });
    });
</script>


<script src="https://bemzhao.github.io/media/scripts/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>
 

    </body>
</html>
